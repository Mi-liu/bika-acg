import"./index-GoDgw8E1.js";/* empty css                         */import{t as w,r as u,w as I,c as h,v as d,x as n,H as m,u as t,I as B,E as p,G as s,J as r,M as C,L as a}from"./vue-vendor-Ca7P3bJW.js";import{h as $}from"./icons-CYK57vyT.js";import{A as b,B as y,n as z,I as N}from"./element-plus-DvbWlh34.js";const V={key:1,class:"absolute inset-0 flex-center"},L={class:"absolute inset-0 flex-center bg-[--el-fill-color]"},J=w({__name:"index",props:{src:{default:""},aspect:{default:"3/4"}},setup(f){const c=f,o=u("");I(()=>{o.value=c.src});const l=u("loading"),i=h(()=>l.value==="load"?`aspect-${c.aspect}`:"aspect-3/4");function _(){l.value="loading",o.value=`${o.value}?t=${Date.now()}`}return(M,e)=>{const v=N,g=y,x=b,k=z;return n(),d("div",{class:m(["relative bg-[--el-fill-color]",[t(i)]])},[t(o).length?(n(),B(v,{key:0,class:m(["w-full vertical-top",[t(i)]]),src:t(o),fit:"cover",loading:"lazy",onLoad:e[0]||(e[0]=E=>l.value="load"),onError:e[1]||(e[1]=E=>l.value="error")},{error:r(()=>[s("div",{class:"aspect-3/4 flex-col flex-center cursor-pointer text-[--el-text-color-secondary]",onClick:C(_,["stop"])},e[2]||(e[2]=[s("div",null,"加载失败",-1),s("div",null,"点击重新加载",-1)]))]),_:1},8,["class","src"])):p("",!0),t(l)==="loading"?(n(),d("div",V,[a(x,{class:"size-full",loading:!0,animated:""},{template:r(()=>[a(g,{class:"size-full!",variant:"image"})]),_:1})])):p("",!0),s("div",L,[a(k,null,{default:r(()=>[a(t($))]),_:1})])],2)}}});export{J as _};
