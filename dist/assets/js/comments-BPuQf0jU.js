import{i as $,_ as z}from"./index-GoDgw8E1.js";/* empty css                         */import{t as I,aq as S,aw as A,v as m,x as i,G as t,L as e,a2 as f,J as a,u as o,I as N,E as V,F as y,af as k,ac as Y,O as u}from"./vue-vendor-Ca7P3bJW.js";import{D as C,_ as j,c as q}from"./cardAnimation-BnUrySq6.js";import{O as E,J as F}from"./icons-CYK57vyT.js";import{n as G,A as H,B as J,f as O,J as U,q as Z,l as K}from"./element-plus-DvbWlh34.js";import{H as Q}from"./vue-hooks-plus-DBdGNJzO.js";import"./utils-Rmfb0WWx.js";/* empty css               *//* empty css                  */import"./animation-D3jsOSc0.js";const W={class:"comments-page size-full flex-1 flex flex-col"},X={class:"flex px py"},ee={class:"size-full flex justify-between"},te={class:"text-18px flex items-center gap-2"},oe={class:"h-full flex-1 overflow-hidden"},se={key:0,class:"card-animation-grid comment-grid",style:{"grid-template-columns":"repeat(auto-fill, minmax(400px, 1fr))",gap:"20px"}},ae={class:"p-4"},ne={class:"flex items-center gap-3 mb-3"},le={class:"flex-1"},ie={class:"comment-header"},ce={class:"flex items-center gap-3"},re={class:"flex-1"},me=["onClick"],de={class:"comment-time text-[--el-text-color-secondary]"},_e={class:"comment-content"},pe={class:"comment-text"},fe={class:"comment-footer"},ue={key:2,class:"empty-state"},ve=I({__name:"comments",setup(xe){const w=S(),{data:c,run:b,loading:_}=Q($,{initialData:{docs:[],total:0,page:0,pages:0,limit:C},defaultParams:[{page:1}]}),B=A("CommonPaginationRef");function P(l){c.value&&(c.value.docs=[]),b({page:l.currentPage})}function v(l){const s=w.resolve(`/comic/detail/${l}`).href;window.open(s,"_blank")}function R(l){return K(l).format("YYYY-MM-DD HH:mm")}const d=q.leftToRight;return(l,s)=>{var g;const p=G,r=J,D=H,x=O,L=U,M=Z;return i(),m("div",W,[t("div",X,[t("div",ee,[t("div",te,[e(p,{class:"text-[--el-color-primary]"},{default:a(()=>[e(o(E))]),_:1}),s[1]||(s[1]=f(" 我的评论 "))])]),e(j,{ref_key:"CommonPaginationRef",ref:B,total:((g=o(c))==null?void 0:g.total)||0,layout:"slot, ->, total, prev, pager, next, jumper","page-size":o(C),disabled:o(_),onChange:P},null,8,["total","page-size","disabled"])]),t("div",oe,[e(M,{height:"100%"},{default:a(()=>{var h;return[s[4]||(s[4]=t("div",{class:"w-full h-6px"},null,-1)),o(_)?(i(),m("div",se,[(i(),m(y,null,k(6,n=>e(D,{key:n,class:"comment-card",loading:!0},{template:a(()=>[t("div",ae,[t("div",ne,[e(r,{variant:"circle",class:"w-8 h-8"}),t("div",le,[e(r,{variant:"h3",class:"w-60% mb-1"}),e(r,{variant:"text",class:"w-40%"})])]),e(r,{variant:"text",class:"w-full mb-2"}),e(r,{variant:"text",class:"w-80% mb-2"}),e(r,{variant:"text",class:"w-60%"})])]),_:2},1024)),64))])):(h=o(c))!=null&&h.docs&&o(c).docs.length>0?(i(),N(Y,{key:1,tag:"div",class:"card-animation-grid comment-grid",style:{"grid-template-columns":"repeat(auto-fill, minmax(400px, 1fr))",gap:"20px"},css:!1,onBeforeEnter:o(d).onBeforeEnter,onEnter:o(d).onEnter,onLeave:o(d).onLeave,onMove:o(d).onMove},{default:a(()=>[(i(!0),m(y,null,k(o(c).docs,n=>(i(),m("div",{key:n._id,class:"comment-card"},[t("div",ie,[t("div",ce,[e(p,{class:"text-[--el-color-primary] text-20px"},{default:a(()=>[e(o(F))]),_:1}),t("div",re,[t("div",{class:"comment-comic-title",onClick:T=>v(n._comic._id)},u(n._comic.title),9,me),t("div",de,u(R(n.created_at)),1)])])]),t("div",_e,[t("div",pe,u(n.content),1)]),t("div",fe,[e(x,{type:"primary",link:"",size:"small",onClick:T=>v(n._comic._id)},{default:a(()=>s[2]||(s[2]=[f(" 查看漫画 ")])),_:2},1032,["onClick"])])]))),128))]),_:1},8,["onBeforeEnter","onEnter","onLeave","onMove"])):o(_)?V("",!0):(i(),m("div",ue,[e(L,{description:"暂无评论记录"},{image:a(()=>[e(p,{class:"text-60px text-[--el-text-color-secondary]"},{default:a(()=>[e(o(E))]),_:1})]),default:a(()=>[e(x,{type:"primary",onClick:s[0]||(s[0]=n=>l.$router.push("/"))},{default:a(()=>s[3]||(s[3]=[f(" 去看看漫画 ")])),_:1})]),_:1})])),s[5]||(s[5]=t("div",{class:"w-full h-6px"},null,-1))]}),_:1})])])}}}),De=z(ve,[["__scopeId","data-v-2ad9d49f"]]);export{De as default};
