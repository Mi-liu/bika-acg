import{c7 as c,d as p,e as T,g as y,b as v,aH as C,r as l,f as E,aX as M,ax as b,c as A,a0 as L,c8 as m,x as N,aP as O,c9 as w,ca as k,cb as x,be as R}from"./index-CO2dMfik.js";import{a as Y}from"./scroll-BvoT1kFd.js";var i=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(i||{});const _=e=>{if(!e)return{onClick:c,onMousedown:c,onMouseup:c};let n=!1,s=!1;return{onClick:o=>{n&&s&&e(o),n=s=!1},onMousedown:o=>{n=o.target===o.currentTarget},onMouseup:o=>{s=o.target===o.currentTarget}}},D=T({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:E([String,Array,Object])},zIndex:{type:E([String,Number])}}),H={click:e=>e instanceof MouseEvent},I="overlay";var B=p({name:"ElOverlay",props:D,emits:H,setup(e,{slots:n,emit:s}){const t=y(I),u=a=>{s("click",a)},{onClick:r,onMousedown:o,onMouseup:d}=_(e.customMaskEvent?void 0:u);return()=>e.mask?v("div",{class:[t.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:r,onMousedown:o,onMouseup:d},[l(n,"default")],i.STYLE|i.CLASS|i.PROPS,["onClick","onMouseup","onMousedown"]):C("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[l(n,"default")])}});const K=B,U=(e,n={})=>{M(e)||b("[useLockscreen]","You need to pass a ref param to this function");const s=n.ns||y("popup"),t=A(()=>s.bm("parent","hidden"));if(!L||m(document.body,t.value))return;let u=0,r=!1,o="0";const d=()=>{setTimeout(()=>{typeof document>"u"||r&&document&&(document.body.style.width=o,x(document.body,t.value))},200)};N(e,a=>{if(!a){d();return}r=!m(document.body,t.value),r&&(o=document.body.style.width,w(document.body,t.value)),u=Y(s.namespace.value);const S=document.documentElement.clientHeight<document.body.scrollHeight,f=k(document.body,"overflowY");u>0&&(S||f==="scroll")&&r&&(document.body.style.width=`calc(100% - ${u}px)`)}),O(()=>d())},V=e=>["",...R].includes(e);export{K as E,_ as a,V as i,U as u};
